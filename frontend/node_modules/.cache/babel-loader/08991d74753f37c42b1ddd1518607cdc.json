{"ast":null,"code":"import _asyncToGenerator from\"C:/SSAFY/WORKSPACE/NFT/S06P22A106/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/SSAFY/WORKSPACE/NFT/S06P22A106/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\SSAFY\\\\WORKSPACE\\\\NFT\\\\S06P22A106\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{Box,Button,Card,Container,Link,Stack,Typography}from'@mui/material';import{styled}from'@mui/material/styles';import{useEffect,useState}from'react';import{Link as RouterLink}from'react-router-dom';import{convertToAccountingFormat}from'../utils/NumberFormatter';import axios from'axios';import Web3 from'web3';import COMMON_ABI from'../common/ABI';import COMMON_HEADER from'../common/HeaderType';import COMMON_CONTRACT from'../common/SaleInfoGetter';import{onResponse}from'../common/ErrorMessage';import Page from'../components/Page';// 이미지 스타일\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ImgStyle=styled('img')({top:0,width:'100%',height:'100%',objectFit:'contain',position:'absolute'});/**\r\n * [메인 화면]\r\n */var Main=function Main(){// [변수] 아이템, 작품명, 즉시 구매가, 심볼, 토큰 ID, 작품 존재 유무\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),item=_useState2[0],setItem=_useState2[1];var _useState3=useState('최근 작품'),_useState4=_slicedToArray(_useState3,2),artName=_useState4[0],setArtName=_useState4[1];var _useState5=useState('0'),_useState6=_slicedToArray(_useState5,2),artPrice=_useState6[0],setArtPrice=_useState6[1];var symbol='SSF';var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),tokenId=_useState8[0],setTokenId=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isCollection=_useState10[0],setIsCollection=_useState10[1];// Web3\nvar web3=new Web3(new Web3.providers.HttpProvider(process.env.REACT_APP_ETHEREUM_RPC_URL));/**\r\n   * [초기 데이터 설정]\r\n   * 화면 첫 렌더링시 최근 작품을 조회하는 함수를 호출합니다.\r\n   */useEffect(function(){getItem();},[]);/**\r\n   * PJT Ⅲ - 과제 4: 조회\r\n   * Req. 4-F3 최근 작품 조회  \r\n   * \r\n   * 1. API를 호출하고 응답 데이터를 화면에 표시합니다.\r\n   * 2. 응답으로부터 받은 token_id로 NFT 컨트랙트를 직접 호출(tokenURI() 함수)하여 이미지를 화면에 보여주어야 합니다. \r\n   * 3. token_id를 이용해 얻은 sale_contract_address로 가지고 생성된 Sale 컨트랙트를 호출하여 즉시 구매 가격을 확인합니다. \r\n   */var getItem=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// TODO\nsetIsCollection(true);setTokenId(0);setItem(\"https://edu.ssafy.com/asset/images/logo.png\");setArtName(\"fake title\");setArtPrice(\"fake price\");case 5:case\"end\":return _context.stop();}}},_callee);}));return function getItem(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Page,{title:\"SSAFY NFT\",maxWidth:\"100%\",minHeight:\"100%\",alignItems:\"center\",display:\"flex\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",justifyContent:\"center\",children:[/*#__PURE__*/_jsxs(Box,{width:\"60%\",sx:{mt:10,mr:20},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h2\",sx:{pb:10},children:[\"\\uBE14\\uB85D\\uCCB4\\uC778\\uACFC NFT\\uB85C\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uB178\\uB825\\uC5D0 \\uAC00\\uCE58\\uB97C \\uBD80\\uC5EC\\uD558\\uC138\\uC694.\"]}),/*#__PURE__*/_jsxs(Stack,{spacing:{xs:0.5,sm:4.5},children:[/*#__PURE__*/_jsx(Button,{fullWidth:true,to:\"/items\",variant:\"contained\",size:\"large\",sx:{fontSize:18},component:RouterLink,children:\"\\uAD6C\\uB9E4\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(Button,{fullWidth:true,to:\"/register\",variant:\"contained\",size:\"large\",sx:{fontSize:18},component:RouterLink,children:\"\\uB4F1\\uB85D\\uD558\\uAE30\"})]})]}),/*#__PURE__*/_jsxs(Box,{width:\"40%\",textAlign:\"center\",children:[/*#__PURE__*/_jsxs(Card,{sx:{mb:5},children:[/*#__PURE__*/_jsx(Box,{sx:{ml:25,mr:25,pt:'100%',position:'relative'}}),/*#__PURE__*/_jsx(ImgStyle,{src:item.length!==0?item:null})]}),/*#__PURE__*/_jsxs(Stack,{children:[isCollection===true?/*#__PURE__*/_jsx(Link,{to:\"/items/buy/\".concat(tokenId),color:\"inherit\",underline:\"hover\",component:RouterLink,children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",noWrap:true,children:artName})}):/*#__PURE__*/_jsx(Typography,{variant:\"h4\",noWrap:true,children:artName}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[\"\\uC989\\uC2DC \\uAD6C\\uB9E4\\uAC00 \",convertToAccountingFormat(artPrice),\" \",symbol]})]})]})]})})});};export default Main;","map":{"version":3,"sources":["C:/SSAFY/WORKSPACE/NFT/S06P22A106/frontend/src/pages/Main.js"],"names":["Box","Button","Card","Container","Link","Stack","Typography","styled","useEffect","useState","RouterLink","convertToAccountingFormat","axios","Web3","COMMON_ABI","COMMON_HEADER","COMMON_CONTRACT","onResponse","Page","ImgStyle","top","width","height","objectFit","position","Main","item","setItem","artName","setArtName","artPrice","setArtPrice","symbol","tokenId","setTokenId","isCollection","setIsCollection","web3","providers","HttpProvider","process","env","REACT_APP_ETHEREUM_RPC_URL","getItem","mt","mr","pb","xs","sm","fontSize","mb","ml","pt","length"],"mappings":"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","sourcesContent":["import { Box, Button, Card, Container, Link, Stack, Typography } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport { useEffect, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { convertToAccountingFormat } from '../utils/NumberFormatter';\r\nimport axios from 'axios';\r\nimport Web3 from 'web3';\r\nimport COMMON_ABI from '../common/ABI';\r\nimport COMMON_HEADER from '../common/HeaderType';\r\nimport COMMON_CONTRACT from '../common/SaleInfoGetter';\r\nimport { onResponse } from '../common/ErrorMessage';\r\nimport Page from '../components/Page';\r\n\r\n// 이미지 스타일\r\nconst ImgStyle = styled('img')({\r\n  top: 0,\r\n  width: '100%',\r\n  height: '100%',\r\n  objectFit: 'contain',\r\n  position: 'absolute'\r\n});\r\n\r\n/**\r\n * [메인 화면]\r\n */\r\nconst Main = () => {\r\n  // [변수] 아이템, 작품명, 즉시 구매가, 심볼, 토큰 ID, 작품 존재 유무\r\n  const [item, setItem] = useState('');\r\n  const [artName, setArtName] = useState('최근 작품');\r\n  const [artPrice, setArtPrice] = useState('0');\r\n  const symbol = 'SSF';\r\n  const [tokenId, setTokenId] = useState('');\r\n  const [isCollection, setIsCollection] = useState(false);\r\n\r\n  // Web3\r\n  const web3 = new Web3(new Web3.providers.HttpProvider(process.env.REACT_APP_ETHEREUM_RPC_URL));\r\n\r\n  /**\r\n   * [초기 데이터 설정]\r\n   * 화면 첫 렌더링시 최근 작품을 조회하는 함수를 호출합니다.\r\n   */\r\n  useEffect(() => {\r\n    getItem();\r\n  }, []);\r\n\r\n  /**\r\n   * PJT Ⅲ - 과제 4: 조회\r\n   * Req. 4-F3 최근 작품 조회  \r\n   * \r\n   * 1. API를 호출하고 응답 데이터를 화면에 표시합니다.\r\n   * 2. 응답으로부터 받은 token_id로 NFT 컨트랙트를 직접 호출(tokenURI() 함수)하여 이미지를 화면에 보여주어야 합니다. \r\n   * 3. token_id를 이용해 얻은 sale_contract_address로 가지고 생성된 Sale 컨트랙트를 호출하여 즉시 구매 가격을 확인합니다. \r\n   */\r\n  const getItem = async () => {\r\n    // TODO\r\n    setIsCollection(true);\r\n    setTokenId(0);\r\n    setItem(\"https://edu.ssafy.com/asset/images/logo.png\");\r\n    setArtName(\"fake title\");\r\n    setArtPrice(\"fake price\");\r\n  };\r\n\r\n  return (\r\n    <Page title=\"SSAFY NFT\" maxWidth=\"100%\" minHeight=\"100%\" alignItems=\"center\" display=\"flex\">\r\n      <Container>\r\n        <Stack direction=\"row\" justifyContent=\"center\">\r\n          <Box width=\"60%\" sx={{ mt: 10, mr: 20 }}>\r\n            <Typography variant=\"h2\" sx={{ pb: 10 }}>\r\n              블록체인과 NFT로\r\n              <br />\r\n              노력에 가치를 부여하세요.\r\n            </Typography>\r\n            <Stack spacing={{ xs: 0.5, sm: 4.5 }}>\r\n              <Button\r\n                fullWidth\r\n                to=\"/items\"\r\n                variant=\"contained\"\r\n                size=\"large\"\r\n                sx={{ fontSize: 18 }}\r\n                component={RouterLink}\r\n              >\r\n                구매하기\r\n              </Button>\r\n              <Button\r\n                fullWidth\r\n                to=\"/register\"\r\n                variant=\"contained\"\r\n                size=\"large\"\r\n                sx={{ fontSize: 18 }}\r\n                component={RouterLink}\r\n              >\r\n                등록하기\r\n              </Button>\r\n            </Stack>\r\n          </Box>\r\n\r\n          <Box width=\"40%\" textAlign=\"center\">\r\n            <Card sx={{ mb: 5 }}>\r\n              <Box sx={{ ml: 25, mr: 25, pt: '100%', position: 'relative' }} />\r\n              <ImgStyle src={item.length !== 0 ? item : null} />\r\n            </Card>\r\n            <Stack>\r\n              {isCollection === true ? (\r\n                <Link\r\n                  to={`/items/buy/${tokenId}`}\r\n                  color=\"inherit\"\r\n                  underline=\"hover\"\r\n                  component={RouterLink}\r\n                >\r\n                  <Typography variant=\"h4\" noWrap>\r\n                    {artName}\r\n                  </Typography>\r\n                </Link>\r\n              ) : (\r\n                <Typography variant=\"h4\" noWrap>\r\n                  {artName}\r\n                </Typography>\r\n              )}\r\n              <Typography variant=\"h6\">\r\n                즉시 구매가 {convertToAccountingFormat(artPrice)} {symbol}\r\n              </Typography>\r\n            </Stack>\r\n          </Box>\r\n        </Stack>\r\n      </Container>\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n"]},"metadata":{},"sourceType":"module"}